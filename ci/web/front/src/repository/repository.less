@heartbeatStartColor: rgba(208, 208, 208, 0.4);
@heartbeatFinalColor: rgba(208, 208, 208, 1.0);
@keyframes heartbeat { 
	from { color: @heartbeatStartColor; }
	to { color: @heartbeatFinalColor; }
}
@-moz-keyframes heartbeat { 
	from { color: @heartbeatStartColor; }
	to { color: @heartbeatFinalColor; }
}
@-webkit-keyframes heartbeat { 
	from { color: @heartbeatStartColor; }
	to { color: @heartbeatFinalColor; }
}
@-o-keyframes heartbeat { 
	from { color: @heartbeatStartColor; }
	to { color: @heartbeatFinalColor; }
}

#repository {
	@panelBackgroundColor: rgba(30, 30, 30, 0.75);

	width: 100%;
	height: 100%;

	#repositoryHeaderPanel, #repositoryChangesPanel, #repositoryChangeDetailsPanel {
		background-color: @panelBackgroundColor;
		border-radius: 4px;

		@boxShadowBlur: 2px;
		@boxShadowSpread: 2px;
		@boxShadowColor: #101010;
		box-shadow: 0 2px @boxShadowBlur @boxShadowSpread @boxShadowColor;
		-moz-box-shadow: 0 2px @boxShadowBlur @boxShadowSpread @boxShadowColor;
		-webkit-box-shadow: 0 2px @boxShadowBlur @boxShadowSpread @boxShadowColor;
	}

	#repositoryHeaderPanel {
		position: absolute;
		top: 6px;
		left: 8px;
		right: 8px;
		height: 40px;

		#repositoryHeaderTitle {
			display: inline-block;
			margin-top: 7px;
			margin-left: 10px;
			font-size: 1.8em;
		}

		#repositoryHeaderLink {
			float: right;
			margin-top: 7px;
			margin-right: 10px;

			img {
				width: 30px;
				vertical-align: top;
			}

			input {
				width: 300px;
				vertical-align: top;
			}
		}
	}	

	#repositoryChangesPanel {
		@bottomBorderColor: rgba(109, 113, 131, 0.14);

		position: absolute;
		top: 56px;
		left: 8px;
		bottom: 10px;
		width: 175px;

		#repositoryChangesSearch {
			position: absolute;
			top: 0px;
			left: 0px;
			right: 0px;
			height: 35px;
			border-bottom: 1px solid @bottomBorderColor;

			img {
				position: absolute;
				top: 6px;
				left: 5px;
				width: 22px;
			}

			input {
				position: absolute;
				top: 0px;
				left: 30px;
				right: 0px;
				bottom: 0px;
				color: #D0D0D0;
				font-size: 18px;
				border: none;
				background-color: rgba(0, 0, 0, 0.0);

				&:focus {
					outline: none;
				}
			}
		}

		#repositoryChanges {
			position: absolute;
			top: 40px;
			left: 0px;
			right: 0px;
			bottom: 0px;
			overflow-y: auto;

			.repositoryChange {
				cursor: hand; cursor: pointer;

				height: 35px;
				color: #D0D0D0;
				text-align: center;
				font-size: 14px;
				line-height: 35px;
				font-weight: bold;
				border-bottom: 1px solid @bottomBorderColor;

				@backgroundColorTransitionTime: 0.5s;
				transition: background-color @backgroundColorTransitionTime ease-out;
				-moz-transition: background-color @backgroundColorTransitionTime ease-out;
				-webkit-transition: background-color @backgroundColorTransitionTime ease-out;
				-o-transition: background-color @backgroundColorTransitionTime ease-out;

				&:hover {
					background-color: rgba(20, 20, 20, 0.75);
				}

				&.selected {
					background-color: rgba(20, 20, 20, 0.75);
				}

				&.queued {
					color: @heartbeatStartColor;

					@heartbeatSpeed: 3.0s;
					@heartbeatDelay: 0.0s;
					animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
					-moz-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
					-webkit-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
					-o-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
				}

				&.running {
					color: @heartbeatStartColor;

					@heartbeatSpeed: 1.5s;
					@heartbeatDelay: 0.0s;
					animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
					-moz-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
					-webkit-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
					-o-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
				}

				&.passed {
					
				}

				&.failed {
					color: rgba(160, 0, 0, 1.0);
				}
			}
		}
	}

	#repositoryChangeDetailsPanel {
		position: absolute;
		top: 56px;
		left: 193px;
		right: 8px;
		bottom: 10px;
		margin: 0px;
		padding: 0px;

		// needed for firefox
		// https://bugzilla.mozilla.org/show_bug.cgi?id=579776
		#repositoryChangeDetails {
			display: -moz-box;
			display: -webkit-box;
			display: box;
			-moz-box-orient: vertical;
			-webkit-box-orient: vertical;
			box-orient: vertical;

			width: 100%;
			height: 100%;

			#repositoryChangeDetailsStages {
				padding: 10px 10px 0px 10px;
				min-height: 48px;

				-moz-box-flex: 0;
				-webkit-box-flex: 0;
				box-flex: 0;

				.repositoryChangeStage {
					cursor: hand; cursor: pointer;

					display: inline-block;
					margin: 0px 10px 10px 0px;
					min-width: 100px;
					height: 32px;
					line-height: 32px;
					text-align: center;
					white-space: nowrap;
					font-size: 1.1em;
					font-weight: bold;
					border-radius: 4px;
					border: 3px solid rgb(45, 45, 45);

					@transitionTime: 0.5s;
					transition: all @transitionTime ease-out;
					-moz-transition: all @transitionTime ease-out;
					-webkit-transition: all @transitionTime ease-out;
					-o-transition: all @transitionTime ease-out;

					&:hover {
						background-color: rgba(20, 20, 20, 0.75);
						border-color: rgb(20, 20, 20);
					}

					&.selected {
						background-color: rgba(20, 20, 20, 0.75);
						border-color: rgb(20, 20, 20);
					}

					&.queued {
						color: @heartbeatStartColor;

						@heartbeatSpeed: 3.0s;
						@heartbeatDelay: 0.0s;
						animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
						-moz-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
						-webkit-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
						-o-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
					}

					&.running {
						color: @heartbeatStartColor;

						@heartbeatSpeed: 1.5s;
						@heartbeatDelay: 0.0s;
						animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
						-moz-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
						-webkit-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
						-o-animation: heartbeat @heartbeatSpeed ease-out @heartbeatDelay infinite alternate;
					}

					&.passed {
						
					}

					&.failed {
						color: rgba(160, 0, 0, 1.0);
					}
				}
			}

			#repositoryChangeDetailsOutput {
				position: relative;

				-moz-box-flex: 1;
				-webkit-box-flex: 1;
				box-flex: 1;

				.consoleText {
					position: absolute;
					top: 0px;
					left: 0px;
					right: 0px;
					bottom: 0px;
					overflow: auto;

					padding: 0px 10px 20px 5px;

					.consoleTextLine {
						font-family: 'Source Code Pro', sans-serif;
						white-space: nowrap;

						&:hover {
							background-color: rgba(20, 20, 20, 0.75);
							
							.consoleTextLineNumber {
								background-color: rgba(20, 20, 20, 0.75);
							}

							.consoleTextLineText {
								background-color: rgba(20, 20, 20, 0.75);
							}
						}

						.consoleTextLineNumber {
							display: inline-block;
							// margin-right: 15px;
							padding-right: 5px;
							color: #999999;
							width: 40px;
							text-align: right;
						}

						.consoleTextLineText {
							padding-left: 15px;
						}
					}
				}
			}
		}
	}
}